<!doctype html>
<canvas id="canvas1" width="800", height="800">
</canvas>

<script type="text/javascript">
var requestAnimFrame = 
  (   window.requestAnimationFrame
   || window.webkitRequestAnimationFrame
   || window.mozRequestAnimationFrame
   || function(callback) { setTimeout(callback, 1000 / 60); });

function animLoop(render, element) {
    var then = Date.now();
    function loop(now) {
        var interval = now - then;
        if (160 <= interval || render(interval) !== false)
            requestAnimFrame(loop, element);
        then = now;
    }
    loop(then);
}

var canvas = document.getElementById("canvas1");
var width = parseInt(canvas.getAttribute("width"));
var height = parseInt(canvas.getAttribute("height"));
var ctx = canvas.getContext("2d");

function draw() {
    step();
//    requestAnimFrame(draw, canvas);
}

</script>


<script src="gravity.js"></script>
<script>
animLoop(draw, canvas);

//requestAnimFrame(draw, canvas);
</script>
